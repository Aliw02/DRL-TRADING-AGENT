# config/config_sac.yaml
# CONFIGURATION FOR CE-ALIGNED STRATEGIC AGENT V2

training:
  learning_rate: 0.0002
  buffer_size: 75000
  batch_size: 128
  tau: 0.005
  gamma: 0.99
  train_freq: [1, "step"]
  gradient_steps: 1
  learning_starts: 10000
  
  walk_forward:
    n_splits: 5
    min_train_size: 40000
    test_size: 30000
    timesteps_per_split: 75000 
    eval_freq: 7500

  fine_tuning:
    recent_data_years: 2.5
    total_timesteps: 50000
    learning_rate: 0.00002

model:
  features_dim: 256
  cnn_out_channels: 64

specialist_training:
  min_samples_per_regime: 5000

environment:
  initial_balance: 10000
  sequence_length: 70
  commission_pct: 0.0005
  max_account_drawdown: 0.20

  reward_shaping:
    patience_reward_factor: 0.1
    cowardice_penalty_factor: 50.0
    profit_risk_reward_factor: 2.0
    opportunity_cost_penalty_factor: 0.5
    turnover_penalty_factor: 0.1
    
    # NEW: Penalizes the agent for doing nothing for too long.
    inactivity_penalty_factor: 0.01
    max_idle_steps: 96 # One day of 15-min bars.
    
    # Deactivated as requested for the first training run.
    risk_proximity_penalty_enabled: false
    risk_proximity_penalty_factor: 1.0