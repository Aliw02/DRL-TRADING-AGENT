# config/config_sac.yaml
# HYPERPARAMETERS OPTIMIZED FOR SINGLE-ENVIRONMENT TRAINING

training:
  learning_rate: 0.0003
  buffer_size: 200000
  batch_size: 256
  tau: 0.005
  gamma: 0.99
  
  # --- CRITICAL EFFICIENCY FIX ---
  # Since we have only 1 env, we need to perform more updates per step.
  # We tell the model to perform 4 gradient updates after each step it takes.
  gradient_steps: 4
  train_freq: [1, "step"] # This means "collect 1 step, then update"
  # -----------------------------
  
  learning_starts: 25000 # Increase learning_starts to ensure buffer is well-populated
  
  walk_forward:
    n_splits: 5
    min_train_size: 40000
    test_size: 30000
    timesteps_per_split: 150000

  fine_tuning:
    recent_data_years: 2.5
    total_timesteps: 200000 # Reduced for faster final tuning
    learning_rate: 0.00001

environment:
  initial_balance: 10000
  sequence_length: 150
  commission_pct: 0.0005
  turnover_penalty: 0.001

model:
  features_dim: 256
  cnn_out_channels: 64
  transformer_n_heads: 4
  transformer_n_layers: 2
  transformer_dropout: 0.1